<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="author" content="" />
	<title>Calendrier - inma Admin</title>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="author" content="" />
	<!-- Mobile Specific Metas
    ================================================== -->
	<meta name="viewport"
		content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
	<meta name="format-detection" content="telephone=no" />

	<!--basic styles-->

	<h:outputStylesheet library="css" name="font-awesome-ie7.min.css" />
	<h:outputStylesheet name="bootstrap.min.css" library="css" />
	<h:outputStylesheet name="bootstrap-responsive.min.css" library="css" />
	<!--ace styles-->
	<h:outputStylesheet library="css" name="ace.min.css" />
	<h:outputStylesheet library="css" name="ace-responsive.min.css" />
	<h:outputStylesheet library="css" name="ace-skins.min.css" />
	<h:outputStylesheet
		name="webjars/font-awesome/3.2.1/css/font-awesome.min.css" />

	<link rel="stylesheet"
		href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />
		
	<!--ace styles-->

	<h:outputStylesheet library="css" name="fullcalendar.css" />
	<h:outputStylesheet library="css" name="ace.min.css" />
	<h:outputStylesheet library="css" name="ace-responsive.min.css" />
	<h:outputStylesheet library="css" name="ace-skins.min.css" />
	<h:outputStylesheet library="css" name="CostumStyle.css" />

</h:head>

<h:body>

	<h:panelGroup layout="block" styleClass="navbar">
		<h:panelGroup layout="block" styleClass="navbar-inner">
			<h:panelGroup layout="block" styleClass="container-fluid">

				<h1 class="logo">
					<h:outputLink value="../welcome.xhtml">
						<h:graphicImage library="images" name="logo.png" styleClass="logo" />
					</h:outputLink>
				</h1>

				<h:form>
				<ul class="nav ace-nav pull-right">
					<li class="light-blue">

							<p:commandLink id="logout" action="#{loginMgmtBean.logout()}" styleClass="dropdown-toggle">
								<h:graphicImage styleClass="nav-user-photo profile-img" library="images"
									name="logo.png" alt="Inma Admin's Photo" />
									<span class="user-info">  <strong>Logout</strong> <br/> Inma  Admin
									</span>
								<i class="icon-signout" style="font-size: 40px; padding-top: 2px;"></i>
							</p:commandLink>

					</li>
				</ul>
				</h:form>
				<!--/.ace-nav-->
			</h:panelGroup>
			<!--/.container-fluid-->
		</h:panelGroup>
		<!--/.navbar-inner-->
	</h:panelGroup>


	<h:panelGroup layout="block"
		styleClass="main-container container-fluid">
		<h:outputLink class="menu-toggler" id="menu-toggler" value="#">
			<span class="menu-text"></span>
		</h:outputLink>

		<h:panelGroup layout="block" styleClass="sidebar" id="sidebar">
			<h:panelGroup layout="block" styleClass="sidebar-shortcuts"
				id="sidebar-shortcuts">
				<h:panelGroup layout="block" styleClass="sidebar-shortcuts-large"
					id="sidebar-shortcuts-large">
					<button class="btn btn-small btn-success">
						<i class="icon-signal"></i>
					</button>

					<button class="btn btn-small btn-info">
						<i class="icon-pencil"></i>
					</button>

					<button class="btn btn-small btn-warning">
						<i class="icon-group"></i>
					</button>

					<button class="btn btn-small btn-danger">
						<i class="icon-cogs"></i>
					</button>
				</h:panelGroup>

				<h:panelGroup layout="block" class="sidebar-shortcuts-mini"
					id="sidebar-shortcuts-mini">
					<span class="btn btn-success"></span>

					<span class="btn btn-info"></span>

					<span class="btn btn-warning"></span>

					<span class="btn btn-danger"></span>
				</h:panelGroup>
			</h:panelGroup>

			<!--#sidebar-shortcuts-->
			<ul class="nav nav-list">
				<li><h:outputLink value="../welcome.xhtml">
						<i class="icon-dashboard"></i>
						<span class="menu-text"> Dashboard </span>
					</h:outputLink>
				</li>


				<li><h:outputLink value="#"
						class="dropdown-toggle">
						<i class="icon-pinterest"></i>
						<span class="menu-text"> Projets </span>
						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="../projects/table-projects.xhtml">
								<i class="icon-double-angle-right"></i> Tous les projets
						</h:outputLink>
						</li>

						<li><h:outputLink value="../projects/form-projects.xhtml">
								<i class="icon-double-angle-right"></i> Nouveau Projet
						</h:outputLink>
						</li>
					</ul>
				</li>

				<li><h:outputLink value="#" class="dropdown-toggle">
						<i class="icon-th-list"></i>
						<span class="menu-text"> Événements </span>
						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="table-events.xhtml">
								<i class="icon-double-angle-right"></i> Tous les événements
						</h:outputLink>
						</li>

						<li><h:outputLink value="form-events.xhtml">
								<i class="icon-double-angle-right"></i> Nouvel événement
						</h:outputLink></li>
						
						<li><h:outputLink value="table-subevents.xhtml">
								<i class="icon-double-angle-right"></i> Tous sous événements
						</h:outputLink></li>

						<li><h:outputLink value="form-subevents.xhtml">
								<i class="icon-double-angle-right"></i> Nouvel sous événement
						</h:outputLink></li>
					</ul>
				</li>

				<li><h:outputLink value="#" class="dropdown-toggle">
						<i class="icon-user"></i>
						<span class="menu-text"> Membres </span>
						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="../members/table-members.xhtml">
								<i class="icon-double-angle-right"></i> Tous les membres
						</h:outputLink>
						</li>

						<li><h:outputLink value="../members/form-members.xhtml">
								<i class="icon-double-angle-right"></i> Nouveau membre
						</h:outputLink>
						</li>
					</ul>
				</li>

				<li><h:outputLink value="#" class="dropdown-toggle">
						<i class="icon-book"></i>
						<span class="menu-text"> Articles </span>
						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="../articles/table-articles.xhtml">
								<i class="icon-double-angle-right"></i> Tous les articles
						</h:outputLink>
						</li>

						<li><h:outputLink value="../articles/form-articles.xhtml">
								<i class="icon-double-angle-right"></i> Nouvel article
						</h:outputLink>
						</li>
					</ul>
				</li>

				<li><h:outputLink value="#" class="dropdown-toggle">
						<i class="icon-group"></i>
						<span class="menu-text"> Partenaires </span>
						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="../partners/table-partners.xhtml">
								<i class="icon-double-angle-right"></i> Tous les Partenaires 
						</h:outputLink>
						</li>

						<li><h:outputLink value="../partners/form-partners.xhtml">
								<i class="icon-double-angle-right"></i> Nouveau Partenaire 
						</h:outputLink>
						</li>
					</ul>
				</li>

				<li ><h:outputLink value="#" class="dropdown-toggle">
						<i class="icon-file-text"></i>
						<span class="menu-text"> Publications </span>
						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="../publications/table-publications.xhtml">
								<i class="icon-double-angle-right"></i> Tous les Publications 
						</h:outputLink>
						</li>

						<li  ><h:outputLink value="../publications/form-publications.xhtml">
								<i class="icon-double-angle-right"></i> Nouvelle Publication 
						</h:outputLink>
						</li>
					</ul>
				</li>
				<li class="active open"><h:outputLink value="calendar.xhtml">
						<i class="icon-calendar"></i>

						<span class="menu-text"> Calendrier <span
							class="badge badge-transparent tooltip-error"
							title="2&nbsp;Important&nbsp;Events"> <i
								class="icon-warning-sign red bigger-130"></i> </span> </span>
					</h:outputLink>
				</li>

				<li><h:outputLink value="#" class="dropdown-toggle">
						<i class="icon-picture"></i>
						<span class="menu-text"> Galerie </span>
						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="../media/gallery.xhtml">
								<i class="icon-double-angle-right"></i> Images 
						</h:outputLink>
						</li>

						<li  ><h:outputLink value="../media/videos.xhtml">
								<i class="icon-double-angle-right"></i> Videos 
						</h:outputLink>
						</li>
					</ul>
				</li>

				<li><h:outputLink value="#" class="dropdown-toggle">
						<i class="icon-tag"></i>
						<span class="menu-text"> More Pages </span>

						<b class="arrow icon-angle-down"></b>
					</h:outputLink>

					<ul class="submenu">
						<li><h:outputLink value="profile.xhtml">
								<i class="icon-double-angle-right"></i> User Profile
						</h:outputLink>
						</li>

						<li><h:outputLink value="pricing.html">
								<i class="icon-double-angle-right"></i> Pricing Tables
						</h:outputLink>
						</li>

						<li><h:outputLink value="invoice.html">
								<i class="icon-double-angle-right"></i> Invoice
						</h:outputLink>
						</li>

						<li><h:outputLink value="login.html">
								<i class="icon-double-angle-right"></i> Login &amp; Register
						</h:outputLink>
						</li>
					</ul>
				</li>
<li><h:outputLink value="../configurations/config.xhtml">
						<i class="icon-cogs"></i>
						<span class="menu-text"> Parametrage </span>
					</h:outputLink></li>
			</ul>

			<h:panelGroup layout="block" styleClass="sidebar-collapse"
				id="sidebar-collapse">
				<i class="icon-double-angle-left"></i>
			</h:panelGroup>
		</h:panelGroup>

		<h:panelGroup layout="block" styleClass="main-content">
			<h:panelGroup layout="block" styleClass="breadcrumbs"
				id="breadcrumbs">
				<ul class="breadcrumb">
					<li><i class="icon-home home-icon"></i> <h:outputLink
							value="../welcome.xhtml">Home</h:outputLink> <span class="divider"> <i
							class="icon-angle-right arrow-icon"></i> </span></li>
					<li class="active">Ajouter un projet</li>
				</ul>
				<!--.breadcrumb-->

				<h:panelGroup layout="block" styleClass="nav-search" id="nav-search">
					<!-- 					<form class="form-search" />
					<span class="input-icon"> <input type="text"
						placeholder="Search ..." class="input-small nav-search-input"
						id="nav-search-input" autocomplete="off" /> <i
						class="icon-search nav-search-icon"></i> </span>
					</h:form>
 -->
				</h:panelGroup>
				<!--#nav-search-->
			</h:panelGroup>

			<h:panelGroup layout="block" styleClass="page-content">
			
			
					<div class="page-header position-relative">
						<h1>
							 Calendrier
							<small>
								<i class="icon-double-angle-right"></i>
								 Calendrier des événements
							</small>
						</h1>
					</div><!--/.page-header-->

					<div class="row-fluid">
						<div class="span12">
							<!--PAGE CONTENT BEGINS-->

							<div class="row-fluid">
								<div class="span9">
									<div class="space"></div>

									<div id="calendar"></div>
								</div>

								<div class="span3">
									<div class="widget-box transparent">
										<div class="widget-header">
											<h4>Draggable events</h4>
										</div>

										<div class="widget-main">
											<div id="external-events">
												<div class="external-event label-grey" data-class="label-grey">
													<i class="icon-move"></i>
													My Event 1
												</div>

												<div class="external-event label-success" data-class="label-success">
													<i class="icon-move"></i>
													My Event 2
												</div>

												<div class="external-event label-important" data-class="label-important">
													<i class="icon-move"></i>
													My Event 3
												</div>

												<div class="external-event label-purple" data-class="label-purple">
													<i class="icon-move"></i>
													My Event 4
												</div>

												<div class="external-event label-yellow" data-class="label-yellow">
													<i class="icon-move"></i>
													My Event 5
												</div>

												<div class="external-event label-pink" data-class="label-pink">
													<i class="icon-move"></i>
													My Event 6
												</div>

												<div class="external-event label-info" data-class="label-info">
													<i class="icon-move"></i>
													My Event 7
												</div>

												<label>
													<input type="checkbox" class="ace-checkbox" id="drop-remove" />
													<span class="lbl"> Remove after drop</span>
												</label>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!--PAGE CONTENT ENDS-->
						</div><!--/.span-->
					</div><!--/.row-fluid-->


			</h:panelGroup>
			<!--/.page-content-->
		</h:panelGroup>
		<!--/.main-content-->
	</h:panelGroup>
	<!--/.main-container-->
 	<a href="#" id="btn-scroll-up"
		class="btn-scroll-up btn btn-small btn-inverse"> <i
		class="icon-double-angle-up icon-only bigger-110"></i>
	</a>

	<!--basic scripts-->

	<!--[if !IE]>-->

	<script
		src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

	<!--<![endif]-->

	<!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<![endif]-->

	<!--[if !IE]>-->

	<script type="text/javascript">
		//<![CDATA[ 
			window.jQuery || document.write("<script src='assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");
			//]]>
			</script>

	<!--<![endif]-->

	<!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

	<script type="text/javascript">
		//<![CDATA[ 
			if("ontouchend" in document) document.write("<script src='assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
			//]]>
			</script>
	<h:outputScript library="js" name="bootstrap.min.js" />

	<!--page specific plugin scripts-->
	<h:outputScript library="js" name="jquery-ui-1.10.3.custom.min.js" />

	<h:outputScript library="js" name="jquery.ui.touch-punch.min.js" />
	<h:outputScript library="js" name="fullcalendar.min.js" />
	<h:outputScript library="js" name="bootbox.min.js" />

	<!--ace scripts-->

	<h:outputScript library="js" name="ace-elements.min.js" />
	<h:outputScript library="js" name="ace.min.js" />

	<!--inline scripts related to this page-->

	<script type="text/javascript">
		//<![CDATA[ 
			$(function() {

/* initialize the external events
	-----------------------------------------------------------------*/

	$('#external-events div.external-event').each(function() {

		// create an Event Object (http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)
		// it doesn't need to have a start or end
		var eventObject = {
			title: $.trim($(this).text()) // use the element's text as the event title
		};

		// store the Event Object in the DOM element so we can get to it later
		$(this).data('eventObject', eventObject);

		// make the event draggable using jQuery UI
		$(this).draggable({
			zIndex: 999,
			revert: true,      // will cause the event to go back to its
			revertDuration: 0  //  original position after the drag
		});
		
	});




	/* initialize the calendar
	-----------------------------------------------------------------*/

	var date = new Date();
	var d = date.getDate();
	var m = date.getMonth();
	var y = date.getFullYear();
 
    
	var calendar = $('#calendar').fullCalendar({
		 buttonText: {
			prev: '<i class="icon-chevron-left"></i>',
			next: '<i class="icon-chevron-right"></i>'
		},
	
		header: {
			left: 'prev,next today',
			center: 'title',
			right: 'month,agendaWeek,agendaDay'
		},
		events: [
			${eventBean.calendarEvents}
		]
		,
		editable: true,
		droppable: true, // this allows things to be dropped onto the calendar !!!
		drop: function(date, allDay) { // this function is called when something is dropped
		
			// retrieve the dropped element's stored Event Object
			var originalEventObject = $(this).data('eventObject');
			var $extraEventClass = $(this).attr('data-class');
			
			
			// we need to copy it, so that multiple events don't have a reference to the same object
			var copiedEventObject = $.extend({}, originalEventObject);
			
			// assign it the date that was reported
			copiedEventObject.start = date;
			copiedEventObject.allDay = allDay;
			if($extraEventClass) copiedEventObject['className'] = [$extraEventClass];
			
			// render the event on the calendar
			// the last `true` argument determines if the event "sticks" (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)
			$('#calendar').fullCalendar('renderEvent', copiedEventObject, true);
			
			// is the "remove after drop" checkbox checked?
			if ($('#drop-remove').is(':checked')) {
				// if so, remove the element from the "Draggable Events" list
				$(this).remove();
			}
			
		}
		,
		selectable: true,
		selectHelper: true,
		select: function(start, end, allDay) {
			
			bootbox.prompt("New Event Title:", function(title) {
				if (title !== null) {
					calendar.fullCalendar('renderEvent',
						{
							title: title,
							start: start,
							end: end,
							allDay: allDay
						},
						true // make the event "stick"
					);
				}
			});
			

			calendar.fullCalendar('unselect');
			
		}
		,
		eventClick: function(calEvent, jsEvent, view) {

			var form = $("<form class='form-inline'><label>Change event name &nbsp;</label></form>");
			form.append("<input autocomplete=off type=text value='" + calEvent.title + "' /> ");
			form.append("<button type='submit' class='btn btn-small btn-success'><i class='icon-ok'></i> Save</button>");
			
			var div = bootbox.dialog(form,
				[
				{
					"label" : "<i class='icon-trash'></i> Delete Event",
					"class" : "btn-small btn-danger",
					"callback": function() {
						calendar.fullCalendar('removeEvents' , function(ev){
							return (ev._id == calEvent._id);
						})
					}
				}
				,
				{
					"label" : "<i class='icon-remove'></i> Close",
					"class" : "btn-small"
				}
				]
				,
				{
					// prompts need a few extra options
					"onEscape": function(){div.modal("hide");}
				}
			);
			
			form.on('submit', function(){
				calEvent.title = form.find("input[type=text]").val();
				calendar.fullCalendar('updateEvent', calEvent);
				div.modal("hide");
				return false;
			});
			
		
			//console.log(calEvent.id);
			//console.log(jsEvent);
			//console.log(view);

			// change the border color just for fun
			//$(this).css('border-color', 'red');

		}
		
	});


})
//]]>
		</script>
</h:body>
</html>